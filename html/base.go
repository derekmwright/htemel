// Code generated by htemel. DO NOT EDIT.
package html

import (
	"fmt"
	"io"
	"slices"
	"strings"

	"golang.org/x/net/html"
)

type BaseElement struct {
	attributes baseAttrs

	skipRender bool
}

// Base creates a tag <base> instance and returns it for further modification.
//
// Spec Description: The base element allows authors to specify the document base URL for the purposes of parsing URLs, and the name of the default navigable for the purposes of following hyperlinks. The element does not represent any content beyond this information.
func Base() *BaseElement {
	node := &BaseElement{

		attributes: make(baseAttrs),
	}

	return node
}

func BaseIf(condition bool) *BaseElement {
	if condition {
		return Base()
	}

	return &BaseElement{

		attributes: make(baseAttrs),
		skipRender: true,
	}
}

// With allows passing a function to modify the element via a closure.
func (e *BaseElement) With(fn func(*BaseElement)) *BaseElement {
	fn(e)
	return e
}

// AddClass appends a class to the element.
func (e *BaseElement) AddClass(classes ...string) *BaseElement {
	current := e.attributes["class"].(string)
	all := append(strings.Fields(current), classes...)
	e.attributes["class"] = strings.Join(all, " ")
	return e
}

// ToggleClass toggles a class on or off.
func (e *BaseElement) ToggleClass(class string, enable bool) *BaseElement {
	classes := strings.Fields(e.attributes["class"].(string))
	idx := slices.Index(classes, class)
	if enable && idx == -1 {
		classes = append(classes, class)
	} else if !enable && idx >= 0 {
		classes = slices.Delete(classes, idx, idx+1)
	}
	e.attributes["class"] = strings.Join(classes, " ")
	return e
}

type BaseAutocapitalize string

const (
	BaseAutocapitalizeNone       BaseAutocapitalize = "none"
	BaseAutocapitalizeOff        BaseAutocapitalize = "off"
	BaseAutocapitalizeOn         BaseAutocapitalize = "on"
	BaseAutocapitalizeSentences  BaseAutocapitalize = "sentences"
	BaseAutocapitalizeWords      BaseAutocapitalize = "words"
	BaseAutocapitalizeCharacters BaseAutocapitalize = "characters"
)

type BaseAutocorrect string

const (
	BaseAutocorrectOff   BaseAutocorrect = "off"
	BaseAutocorrectOn    BaseAutocorrect = "on"
	BaseAutocorrectEmpty BaseAutocorrect = ""
)

type BaseContenteditable string

const (
	BaseContenteditablePlaintextOnly BaseContenteditable = "plaintext-only"
	BaseContenteditableTrue          BaseContenteditable = "true"
	BaseContenteditableFalse         BaseContenteditable = "false"
	BaseContenteditableEmpty         BaseContenteditable = ""
)

type BaseDir string

const (
	BaseDirAuto BaseDir = "auto"
	BaseDirLtr  BaseDir = "ltr"
	BaseDirRtl  BaseDir = "rtl"
)

type BaseDraggable string

const (
	BaseDraggableFalse BaseDraggable = "false"
	BaseDraggableTrue  BaseDraggable = "true"
)

type BaseEnterkeyhint string

const (
	BaseEnterkeyhintPrevious BaseEnterkeyhint = "previous"
	BaseEnterkeyhintSearch   BaseEnterkeyhint = "search"
	BaseEnterkeyhintSend     BaseEnterkeyhint = "send"
	BaseEnterkeyhintDone     BaseEnterkeyhint = "done"
	BaseEnterkeyhintEnter    BaseEnterkeyhint = "enter"
	BaseEnterkeyhintGo       BaseEnterkeyhint = "go"
	BaseEnterkeyhintNext     BaseEnterkeyhint = "next"
)

type BaseHidden string

const (
	BaseHiddenHidden     BaseHidden = "hidden"
	BaseHiddenUntilFound BaseHidden = "until-found"
	BaseHiddenEmpty      BaseHidden = ""
)

type BaseInputmode string

const (
	BaseInputmodeEmail   BaseInputmode = "email"
	BaseInputmodeNone    BaseInputmode = "none"
	BaseInputmodeNumeric BaseInputmode = "numeric"
	BaseInputmodeSearch  BaseInputmode = "search"
	BaseInputmodeTel     BaseInputmode = "tel"
	BaseInputmodeText    BaseInputmode = "text"
	BaseInputmodeUrl     BaseInputmode = "url"
	BaseInputmodeDecimal BaseInputmode = "decimal"
)

type BaseSpellcheck string

const (
	BaseSpellcheckFalse BaseSpellcheck = "false"
	BaseSpellcheckTrue  BaseSpellcheck = "true"
	BaseSpellcheckEmpty BaseSpellcheck = ""
)

type BaseTranslate string

const (
	BaseTranslateNo    BaseTranslate = "no"
	BaseTranslateYes   BaseTranslate = "yes"
	BaseTranslateEmpty BaseTranslate = ""
)

type BaseWritingsuggestions string

const (
	BaseWritingsuggestionsTrue  BaseWritingsuggestions = "true"
	BaseWritingsuggestionsFalse BaseWritingsuggestions = "false"
	BaseWritingsuggestionsEmpty BaseWritingsuggestions = ""
)

type baseAttrs map[string]any

func (e *BaseElement) Href(s string) *BaseElement {
	e.attributes["href"] = s

	return e
}

func (e *BaseElement) Target(s string) *BaseElement {
	e.attributes["target"] = s

	return e
}

func (e *BaseElement) AriaUnsafe(name string, s string) *BaseElement {
	tag := strings.ToLower("aria-" + name)

	e.attributes[tag] = s

	return e
}

func (e *BaseElement) Aria(name string, s string) *BaseElement {
	return e.AriaUnsafe(name, html.EscapeString(s))
}

func (e *BaseElement) Autocapitalize(a BaseAutocapitalize) *BaseElement {
	e.attributes["autocapitalize"] = a

	return e
}

func (e *BaseElement) Autocorrect(a BaseAutocorrect) *BaseElement {
	e.attributes["autocorrect"] = a

	return e
}

func (e *BaseElement) Autofocus(b bool) *BaseElement {
	e.attributes["autofocus"] = b

	return e
}

func (e *BaseElement) Class(s ...string) *BaseElement {
	e.attributes["class"] = strings.Join(s, " ")

	return e
}

func (e *BaseElement) Contenteditable(a BaseContenteditable) *BaseElement {
	e.attributes["contenteditable"] = a

	return e
}

func (e *BaseElement) DataUnsafe(name string, s string) *BaseElement {
	tag := strings.ToLower("data-" + name)

	e.attributes[tag] = s

	return e
}

func (e *BaseElement) Data(name string, s string) *BaseElement {
	return e.DataUnsafe(name, html.EscapeString(s))
}

func (e *BaseElement) Dir(a BaseDir) *BaseElement {
	e.attributes["dir"] = a

	return e
}

func (e *BaseElement) Draggable(a BaseDraggable) *BaseElement {
	e.attributes["draggable"] = a

	return e
}

func (e *BaseElement) Enterkeyhint(a BaseEnterkeyhint) *BaseElement {
	e.attributes["enterkeyhint"] = a

	return e
}

func (e *BaseElement) Hidden(a BaseHidden) *BaseElement {
	e.attributes["hidden"] = a

	return e
}

func (e *BaseElement) Id(s string) *BaseElement {
	e.attributes["id"] = s

	return e
}

func (e *BaseElement) Inert(b bool) *BaseElement {
	e.attributes["inert"] = b

	return e
}

func (e *BaseElement) Inputmode(a BaseInputmode) *BaseElement {
	e.attributes["inputmode"] = a

	return e
}

func (e *BaseElement) Itemid(s string) *BaseElement {
	e.attributes["itemid"] = s

	return e
}

func (e *BaseElement) Itemprop(s ...string) *BaseElement {
	e.attributes["itemprop"] = strings.Join(s, " ")

	return e
}

func (e *BaseElement) Itemref(s ...string) *BaseElement {
	e.attributes["itemref"] = strings.Join(s, " ")

	return e
}

func (e *BaseElement) Itemscope(b bool) *BaseElement {
	e.attributes["itemscope"] = b

	return e
}

func (e *BaseElement) Itemtype(s ...string) *BaseElement {
	e.attributes["itemtype"] = strings.Join(s, " ")

	return e
}

func (e *BaseElement) Lang(s string) *BaseElement {
	e.attributes["lang"] = s

	return e
}

func (e *BaseElement) Nonce(s string) *BaseElement {
	e.attributes["nonce"] = s

	return e
}

func (e *BaseElement) Popover(s string) *BaseElement {
	e.attributes["popover"] = s

	return e
}

func (e *BaseElement) Role(s string) *BaseElement {
	e.attributes["role"] = s

	return e
}

func (e *BaseElement) Slot(s string) *BaseElement {
	e.attributes["slot"] = s

	return e
}

func (e *BaseElement) Spellcheck(a BaseSpellcheck) *BaseElement {
	e.attributes["spellcheck"] = a

	return e
}

func (e *BaseElement) Style(s string) *BaseElement {
	e.attributes["style"] = s

	return e
}

func (e *BaseElement) Tabindex(i int) *BaseElement {
	e.attributes["tabindex"] = i

	return e
}

func (e *BaseElement) Title(s string) *BaseElement {
	e.attributes["title"] = s

	return e
}

func (e *BaseElement) Translate(a BaseTranslate) *BaseElement {
	e.attributes["translate"] = a

	return e
}

func (e *BaseElement) Writingsuggestions(a BaseWritingsuggestions) *BaseElement {
	e.attributes["writingsuggestions"] = a

	return e
}

// Render processes the current element, and writes the initial tag.
// Then all children are processed and included within the tag.
// Finally, the tag is closed.
//
// *Except for void elements as they are self closing and do not contain children.
func (e *BaseElement) Render(w io.Writer) error {
	if e.skipRender {
		return nil
	}

	if _, err := w.Write([]byte("<base")); err != nil {
		return err
	}

	c := len(e.attributes)
	i := 1
	for key, v := range e.attributes {
		if i == 1 {
			w.Write([]byte(" "))
		}

		w.Write([]byte(key))

		// Enum types support empty attributes and can be omitted.
		if fmt.Sprintf("%s", v) == "" {
			w.Write([]byte(" "))
			continue
		}

		w.Write([]byte("="))

		w.Write([]byte("\"" + fmt.Sprintf("%v", v) + "\""))

		if i < c {
			w.Write([]byte(" "))
		}

		i++
	}

	if _, err := w.Write([]byte(">")); err != nil {
		return err
	}

	return nil
}
