// Code generated by htemel. DO NOT EDIT.
package html

import (
	"fmt"
	"io"
	"strings"

	"github.com/derekmwright/htemel"
	"golang.org/x/net/html"
)

type ScriptElement struct {
	attributes scriptAttrs
	children   []htemel.Node
	skipRender bool
	indent     int
}

// Script creates a tag <script> instance and returns it for further modification.
// Any children passed will be nested within the tag.//
// Spec Description: The script element allows authors to include dynamic script, instructions to the user agent, and data blocks in their documents. The element does not represent content for the user.
func Script(children ...htemel.Node) *ScriptElement {
	node := &ScriptElement{
		children: children, attributes: make(scriptAttrs),
	}

	return node
}

func ScriptIf(condition bool, children ...htemel.Node) *ScriptElement {
	if condition {
		return Script(children...)
	}

	return &ScriptElement{
		skipRender: true,
	}
}

func ScriptTernary(condition bool, true htemel.Node, false htemel.Node) *ScriptElement {
	if condition {
		return Script(true)
	}

	return Script(false)
}

// AddIndent is called by the Render function on children elements to set their indentation.
func (e *ScriptElement) Indent() int {
	return e.indent
}

// AddIndent is called by the Render function on children elements to set their indentation.
// The parent should pass its own indentation value and this function will increment it for itself.
func (e *ScriptElement) AddIndent(i int) {
	e.indent = i + 1
}

type ScriptAutocapitalizeEnum string

const (
	ScriptAutocapitalizeEnumOn         ScriptAutocapitalizeEnum = "on"
	ScriptAutocapitalizeEnumSentences  ScriptAutocapitalizeEnum = "sentences"
	ScriptAutocapitalizeEnumWords      ScriptAutocapitalizeEnum = "words"
	ScriptAutocapitalizeEnumCharacters ScriptAutocapitalizeEnum = "characters"
	ScriptAutocapitalizeEnumNone       ScriptAutocapitalizeEnum = "none"
	ScriptAutocapitalizeEnumOff        ScriptAutocapitalizeEnum = "off"
)

type ScriptAutocorrectEnum string

const (
	ScriptAutocorrectEnumOff   ScriptAutocorrectEnum = "off"
	ScriptAutocorrectEnumOn    ScriptAutocorrectEnum = "on"
	ScriptAutocorrectEnumEmpty ScriptAutocorrectEnum = ""
)

type ScriptContenteditableEnum string

const (
	ScriptContenteditableEnumTrue          ScriptContenteditableEnum = "true"
	ScriptContenteditableEnumFalse         ScriptContenteditableEnum = "false"
	ScriptContenteditableEnumPlaintextOnly ScriptContenteditableEnum = "plaintext-only"
	ScriptContenteditableEnumEmpty         ScriptContenteditableEnum = ""
)

type ScriptDirEnum string

const (
	ScriptDirEnumRtl  ScriptDirEnum = "rtl"
	ScriptDirEnumAuto ScriptDirEnum = "auto"
	ScriptDirEnumLtr  ScriptDirEnum = "ltr"
)

type ScriptDraggableEnum string

const (
	ScriptDraggableEnumFalse ScriptDraggableEnum = "false"
	ScriptDraggableEnumTrue  ScriptDraggableEnum = "true"
)

type ScriptEnterkeyhintEnum string

const (
	ScriptEnterkeyhintEnumPrevious ScriptEnterkeyhintEnum = "previous"
	ScriptEnterkeyhintEnumSearch   ScriptEnterkeyhintEnum = "search"
	ScriptEnterkeyhintEnumSend     ScriptEnterkeyhintEnum = "send"
	ScriptEnterkeyhintEnumDone     ScriptEnterkeyhintEnum = "done"
	ScriptEnterkeyhintEnumEnter    ScriptEnterkeyhintEnum = "enter"
	ScriptEnterkeyhintEnumGo       ScriptEnterkeyhintEnum = "go"
	ScriptEnterkeyhintEnumNext     ScriptEnterkeyhintEnum = "next"
)

type ScriptHiddenEnum string

const (
	ScriptHiddenEnumHidden     ScriptHiddenEnum = "hidden"
	ScriptHiddenEnumUntilFound ScriptHiddenEnum = "until-found"
	ScriptHiddenEnumEmpty      ScriptHiddenEnum = ""
)

type ScriptInputmodeEnum string

const (
	ScriptInputmodeEnumText    ScriptInputmodeEnum = "text"
	ScriptInputmodeEnumUrl     ScriptInputmodeEnum = "url"
	ScriptInputmodeEnumDecimal ScriptInputmodeEnum = "decimal"
	ScriptInputmodeEnumEmail   ScriptInputmodeEnum = "email"
	ScriptInputmodeEnumNone    ScriptInputmodeEnum = "none"
	ScriptInputmodeEnumNumeric ScriptInputmodeEnum = "numeric"
	ScriptInputmodeEnumSearch  ScriptInputmodeEnum = "search"
	ScriptInputmodeEnumTel     ScriptInputmodeEnum = "tel"
)

type ScriptSpellcheckEnum string

const (
	ScriptSpellcheckEnumFalse ScriptSpellcheckEnum = "false"
	ScriptSpellcheckEnumTrue  ScriptSpellcheckEnum = "true"
	ScriptSpellcheckEnumEmpty ScriptSpellcheckEnum = ""
)

type ScriptTranslateEnum string

const (
	ScriptTranslateEnumYes   ScriptTranslateEnum = "yes"
	ScriptTranslateEnumNo    ScriptTranslateEnum = "no"
	ScriptTranslateEnumEmpty ScriptTranslateEnum = ""
)

type ScriptWritingsuggestionsEnum string

const (
	ScriptWritingsuggestionsEnumTrue  ScriptWritingsuggestionsEnum = "true"
	ScriptWritingsuggestionsEnumFalse ScriptWritingsuggestionsEnum = "false"
	ScriptWritingsuggestionsEnumEmpty ScriptWritingsuggestionsEnum = ""
)

type scriptAttrs map[string]any

func (e *ScriptElement) Autocapitalize(a ScriptAutocapitalizeEnum) *ScriptElement {
	e.attributes["autocapitalize"] = a

	return e
}

func (e *ScriptElement) Autocorrect(a ScriptAutocorrectEnum) *ScriptElement {
	e.attributes["autocorrect"] = a

	return e
}

func (e *ScriptElement) Autofocus(b bool) *ScriptElement {
	e.attributes["autofocus"] = b

	return e
}

func (e *ScriptElement) Class(s ...string) *ScriptElement {
	e.attributes["class"] = strings.Join(s, " ")

	return e
}

func (e *ScriptElement) Contenteditable(a ScriptContenteditableEnum) *ScriptElement {
	e.attributes["contenteditable"] = a

	return e
}

func (e *ScriptElement) DataUnsafe(name string, s string) *ScriptElement {
	tag := strings.ToLower("data-" + name)

	e.attributes[tag] = s

	return e
}

func (e *ScriptElement) Data(name string, s string) *ScriptElement {
	return e.DataUnsafe(name, html.EscapeString(s))
}

func (e *ScriptElement) Dir(a ScriptDirEnum) *ScriptElement {
	e.attributes["dir"] = a

	return e
}

func (e *ScriptElement) Draggable(a ScriptDraggableEnum) *ScriptElement {
	e.attributes["draggable"] = a

	return e
}

func (e *ScriptElement) Enterkeyhint(a ScriptEnterkeyhintEnum) *ScriptElement {
	e.attributes["enterkeyhint"] = a

	return e
}

func (e *ScriptElement) Hidden(a ScriptHiddenEnum) *ScriptElement {
	e.attributes["hidden"] = a

	return e
}

func (e *ScriptElement) Id(s string) *ScriptElement {
	e.attributes["id"] = s

	return e
}

func (e *ScriptElement) Inert(b bool) *ScriptElement {
	e.attributes["inert"] = b

	return e
}

func (e *ScriptElement) Inputmode(a ScriptInputmodeEnum) *ScriptElement {
	e.attributes["inputmode"] = a

	return e
}

func (e *ScriptElement) Itemid(s string) *ScriptElement {
	e.attributes["itemid"] = s

	return e
}

func (e *ScriptElement) Itemprop(s ...string) *ScriptElement {
	e.attributes["itemprop"] = strings.Join(s, " ")

	return e
}

func (e *ScriptElement) Itemref(s ...string) *ScriptElement {
	e.attributes["itemref"] = strings.Join(s, " ")

	return e
}

func (e *ScriptElement) Itemscope(b bool) *ScriptElement {
	e.attributes["itemscope"] = b

	return e
}

func (e *ScriptElement) Itemtype(s ...string) *ScriptElement {
	e.attributes["itemtype"] = strings.Join(s, " ")

	return e
}

func (e *ScriptElement) Lang(s string) *ScriptElement {
	e.attributes["lang"] = s

	return e
}

func (e *ScriptElement) Nonce(s string) *ScriptElement {
	e.attributes["nonce"] = s

	return e
}

func (e *ScriptElement) Popover(s string) *ScriptElement {
	e.attributes["popover"] = s

	return e
}

func (e *ScriptElement) Slot(s string) *ScriptElement {
	e.attributes["slot"] = s

	return e
}

func (e *ScriptElement) Spellcheck(a ScriptSpellcheckEnum) *ScriptElement {
	e.attributes["spellcheck"] = a

	return e
}

func (e *ScriptElement) Style(s string) *ScriptElement {
	e.attributes["style"] = s

	return e
}

func (e *ScriptElement) Tabindex(i int) *ScriptElement {
	e.attributes["tabindex"] = i

	return e
}

func (e *ScriptElement) Title(s string) *ScriptElement {
	e.attributes["title"] = s

	return e
}

func (e *ScriptElement) Translate(a ScriptTranslateEnum) *ScriptElement {
	e.attributes["translate"] = a

	return e
}

func (e *ScriptElement) Writingsuggestions(a ScriptWritingsuggestionsEnum) *ScriptElement {
	e.attributes["writingsuggestions"] = a

	return e
}

// Render processes the current element, and writes the initial tag.
// Then all children are processed and included within the tag.
// Finally, the tag is closed.
//
// *Except for void elements as they are self closing and do not contain children.
func (e *ScriptElement) Render(w io.Writer) error {
	indent := strings.Repeat("  ", e.indent)

	if e.skipRender {
		return nil
	}

	if _, err := w.Write([]byte(indent + "<script")); err != nil {
		return err
	}

	c := len(e.attributes)
	i := 1
	for key, v := range e.attributes {
		if i == 1 {
			w.Write([]byte(" "))
		}

		w.Write([]byte(key))

		// Enum types support empty attributes and can be omitted.
		if fmt.Sprintf("%s", v) == "" {
			w.Write([]byte(" "))
			continue
		}

		w.Write([]byte("="))

		w.Write([]byte("\"" + fmt.Sprintf("%v", v) + "\""))

		if i < c {
			w.Write([]byte(" "))
		}

		i++
	}

	if _, err := w.Write([]byte(">\n")); err != nil {
		return err
	}
	for _, child := range e.children {
		child.AddIndent(e.Indent())
		if err := child.Render(w); err != nil {
			return err
		}
	}

	if _, err := w.Write([]byte(indent + "</script>\n")); err != nil {
		return err
	}

	return nil
}
