// Code generated by htemel. DO NOT EDIT.
package html

import (
	"fmt"
	"io"
	"slices"
	"strings"

	"github.com/derekmwright/htemel"
	"golang.org/x/net/html"
)

type ProgressElement struct {
	attributes progressAttrs
	children   []htemel.Node
	skipRender bool
}

// Progress creates a tag <progress> instance and returns it for further modification.
// Any children passed will be nested within the tag.//
// Spec Description: The progress element represents the completion progress of a task. The progress is either indeterminate, indicating that progress is being made but that it is not clear how much more work remains to be done before the task is complete (e.g. because the task is waiting for a remote host to respond), or the progress is a number in the range zero to a maximum, giving the fraction of work that has so far been completed.
func Progress(children ...htemel.Node) *ProgressElement {
	node := &ProgressElement{
		children:   children,
		attributes: make(progressAttrs),
	}

	return node
}

func ProgressIf(condition bool, children ...htemel.Node) *ProgressElement {
	if condition {
		return Progress(children...)
	}

	return &ProgressElement{
		children:   children,
		attributes: make(progressAttrs),
		skipRender: true,
	}
}

func ProgressTernary(condition bool, true htemel.Node, false htemel.Node) *ProgressElement {
	if condition {
		return Progress(true)
	}
	return Progress(false)
}

// Children appends children to this element.
func (e *ProgressElement) Children(children ...htemel.Node) *ProgressElement {
	e.children = append(e.children, children...)
	return e
}

// With allows passing a function to modify the element via a closure.
func (e *ProgressElement) With(fn func(*ProgressElement)) *ProgressElement {
	fn(e)
	return e
}

// Text adds a text node to the element.
func (e *ProgressElement) Text(text string) *ProgressElement {
	return e.Children(htemel.Text(text))
}

// Textf adds a text node to the element with the given format string and arguments.
func (e *ProgressElement) Textf(format string, args ...any) *ProgressElement {
	return e.Children(htemel.Text(fmt.Sprintf(format, args...)))
}

// AddClass appends a class to the element.
func (e *ProgressElement) AddClass(classes ...string) *ProgressElement {
	current := e.attributes["class"].(string)
	all := append(strings.Fields(current), classes...)
	e.attributes["class"] = strings.Join(all, " ")
	return e
}

// ToggleClass toggles a class on or off.
func (e *ProgressElement) ToggleClass(class string, enable bool) *ProgressElement {
	classes := strings.Fields(e.attributes["class"].(string))
	idx := slices.Index(classes, class)
	if enable && idx == -1 {
		classes = append(classes, class)
	} else if !enable && idx >= 0 {
		classes = slices.Delete(classes, idx, idx+1)
	}
	e.attributes["class"] = strings.Join(classes, " ")
	return e
}

type ProgressAutocapitalize string

const (
	ProgressAutocapitalizeCharacters ProgressAutocapitalize = "characters"
	ProgressAutocapitalizeNone       ProgressAutocapitalize = "none"
	ProgressAutocapitalizeOff        ProgressAutocapitalize = "off"
	ProgressAutocapitalizeOn         ProgressAutocapitalize = "on"
	ProgressAutocapitalizeSentences  ProgressAutocapitalize = "sentences"
	ProgressAutocapitalizeWords      ProgressAutocapitalize = "words"
)

type ProgressAutocorrect string

const (
	ProgressAutocorrectOff   ProgressAutocorrect = "off"
	ProgressAutocorrectOn    ProgressAutocorrect = "on"
	ProgressAutocorrectEmpty ProgressAutocorrect = ""
)

type ProgressContenteditable string

const (
	ProgressContenteditableFalse         ProgressContenteditable = "false"
	ProgressContenteditablePlaintextOnly ProgressContenteditable = "plaintext-only"
	ProgressContenteditableTrue          ProgressContenteditable = "true"
	ProgressContenteditableEmpty         ProgressContenteditable = ""
)

type ProgressDir string

const (
	ProgressDirRtl  ProgressDir = "rtl"
	ProgressDirAuto ProgressDir = "auto"
	ProgressDirLtr  ProgressDir = "ltr"
)

type ProgressDraggable string

const (
	ProgressDraggableFalse ProgressDraggable = "false"
	ProgressDraggableTrue  ProgressDraggable = "true"
)

type ProgressEnterkeyhint string

const (
	ProgressEnterkeyhintPrevious ProgressEnterkeyhint = "previous"
	ProgressEnterkeyhintSearch   ProgressEnterkeyhint = "search"
	ProgressEnterkeyhintSend     ProgressEnterkeyhint = "send"
	ProgressEnterkeyhintDone     ProgressEnterkeyhint = "done"
	ProgressEnterkeyhintEnter    ProgressEnterkeyhint = "enter"
	ProgressEnterkeyhintGo       ProgressEnterkeyhint = "go"
	ProgressEnterkeyhintNext     ProgressEnterkeyhint = "next"
)

type ProgressHidden string

const (
	ProgressHiddenHidden     ProgressHidden = "hidden"
	ProgressHiddenUntilFound ProgressHidden = "until-found"
	ProgressHiddenEmpty      ProgressHidden = ""
)

type ProgressInputmode string

const (
	ProgressInputmodeNone    ProgressInputmode = "none"
	ProgressInputmodeNumeric ProgressInputmode = "numeric"
	ProgressInputmodeSearch  ProgressInputmode = "search"
	ProgressInputmodeTel     ProgressInputmode = "tel"
	ProgressInputmodeText    ProgressInputmode = "text"
	ProgressInputmodeUrl     ProgressInputmode = "url"
	ProgressInputmodeDecimal ProgressInputmode = "decimal"
	ProgressInputmodeEmail   ProgressInputmode = "email"
)

type ProgressSpellcheck string

const (
	ProgressSpellcheckFalse ProgressSpellcheck = "false"
	ProgressSpellcheckTrue  ProgressSpellcheck = "true"
	ProgressSpellcheckEmpty ProgressSpellcheck = ""
)

type ProgressTranslate string

const (
	ProgressTranslateNo    ProgressTranslate = "no"
	ProgressTranslateYes   ProgressTranslate = "yes"
	ProgressTranslateEmpty ProgressTranslate = ""
)

type ProgressWritingsuggestions string

const (
	ProgressWritingsuggestionsFalse ProgressWritingsuggestions = "false"
	ProgressWritingsuggestionsTrue  ProgressWritingsuggestions = "true"
	ProgressWritingsuggestionsEmpty ProgressWritingsuggestions = ""
)

type progressAttrs map[string]any

func (e *ProgressElement) Value(f float64) *ProgressElement {
	e.attributes["value"] = f

	return e
}

func (e *ProgressElement) Max(f float64) *ProgressElement {
	e.attributes["max"] = f

	return e
}

func (e *ProgressElement) AriaUnsafe(name string, s string) *ProgressElement {
	tag := strings.ToLower("aria-" + name)

	e.attributes[tag] = s

	return e
}

func (e *ProgressElement) Aria(name string, s string) *ProgressElement {
	return e.AriaUnsafe(name, html.EscapeString(s))
}

func (e *ProgressElement) Autocapitalize(a ProgressAutocapitalize) *ProgressElement {
	e.attributes["autocapitalize"] = a

	return e
}

func (e *ProgressElement) Autocorrect(a ProgressAutocorrect) *ProgressElement {
	e.attributes["autocorrect"] = a

	return e
}

func (e *ProgressElement) Autofocus(b bool) *ProgressElement {
	e.attributes["autofocus"] = b

	return e
}

func (e *ProgressElement) Class(s ...string) *ProgressElement {
	e.attributes["class"] = strings.Join(s, " ")

	return e
}

func (e *ProgressElement) Contenteditable(a ProgressContenteditable) *ProgressElement {
	e.attributes["contenteditable"] = a

	return e
}

func (e *ProgressElement) DataUnsafe(name string, s string) *ProgressElement {
	tag := strings.ToLower("data-" + name)

	e.attributes[tag] = s

	return e
}

func (e *ProgressElement) Data(name string, s string) *ProgressElement {
	return e.DataUnsafe(name, html.EscapeString(s))
}

func (e *ProgressElement) Dir(a ProgressDir) *ProgressElement {
	e.attributes["dir"] = a

	return e
}

func (e *ProgressElement) Draggable(a ProgressDraggable) *ProgressElement {
	e.attributes["draggable"] = a

	return e
}

func (e *ProgressElement) Enterkeyhint(a ProgressEnterkeyhint) *ProgressElement {
	e.attributes["enterkeyhint"] = a

	return e
}

func (e *ProgressElement) Hidden(a ProgressHidden) *ProgressElement {
	e.attributes["hidden"] = a

	return e
}

func (e *ProgressElement) Id(s string) *ProgressElement {
	e.attributes["id"] = s

	return e
}

func (e *ProgressElement) Inert(b bool) *ProgressElement {
	e.attributes["inert"] = b

	return e
}

func (e *ProgressElement) Inputmode(a ProgressInputmode) *ProgressElement {
	e.attributes["inputmode"] = a

	return e
}

func (e *ProgressElement) Itemid(s string) *ProgressElement {
	e.attributes["itemid"] = s

	return e
}

func (e *ProgressElement) Itemprop(s ...string) *ProgressElement {
	e.attributes["itemprop"] = strings.Join(s, " ")

	return e
}

func (e *ProgressElement) Itemref(s ...string) *ProgressElement {
	e.attributes["itemref"] = strings.Join(s, " ")

	return e
}

func (e *ProgressElement) Itemscope(b bool) *ProgressElement {
	e.attributes["itemscope"] = b

	return e
}

func (e *ProgressElement) Itemtype(s ...string) *ProgressElement {
	e.attributes["itemtype"] = strings.Join(s, " ")

	return e
}

func (e *ProgressElement) Lang(s string) *ProgressElement {
	e.attributes["lang"] = s

	return e
}

func (e *ProgressElement) Nonce(s string) *ProgressElement {
	e.attributes["nonce"] = s

	return e
}

func (e *ProgressElement) Popover(s string) *ProgressElement {
	e.attributes["popover"] = s

	return e
}

func (e *ProgressElement) Role(s string) *ProgressElement {
	e.attributes["role"] = s

	return e
}

func (e *ProgressElement) Slot(s string) *ProgressElement {
	e.attributes["slot"] = s

	return e
}

func (e *ProgressElement) Spellcheck(a ProgressSpellcheck) *ProgressElement {
	e.attributes["spellcheck"] = a

	return e
}

func (e *ProgressElement) Style(s string) *ProgressElement {
	e.attributes["style"] = s

	return e
}

func (e *ProgressElement) Tabindex(i int) *ProgressElement {
	e.attributes["tabindex"] = i

	return e
}

func (e *ProgressElement) Title(s string) *ProgressElement {
	e.attributes["title"] = s

	return e
}

func (e *ProgressElement) Translate(a ProgressTranslate) *ProgressElement {
	e.attributes["translate"] = a

	return e
}

func (e *ProgressElement) Writingsuggestions(a ProgressWritingsuggestions) *ProgressElement {
	e.attributes["writingsuggestions"] = a

	return e
}

// Render processes the current element, and writes the initial tag.
// Then all children are processed and included within the tag.
// Finally, the tag is closed.
//
// *Except for void elements as they are self closing and do not contain children.
func (e *ProgressElement) Render(w io.Writer) error {
	if e.skipRender {
		return nil
	}

	var sb strings.Builder
	sb.WriteString("<progress")

	for key, v := range e.attributes {
		sb.WriteByte(' ')
		sb.WriteString(key)

		strVal := fmt.Sprintf("%v", v)
		if strVal != "" {
			sb.WriteByte('=')
			sb.WriteByte('"')
			sb.WriteString(strVal)
			sb.WriteByte('"')
		}
	}

	sb.WriteByte('>')
	for _, child := range e.children {
		if err := child.Render(&sb); err != nil {
			return err
		}
	}

	sb.WriteString("</progress>")

	_, err := io.WriteString(w, sb.String())
	return err
}
